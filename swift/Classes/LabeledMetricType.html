<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LabeledMetricType Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/LabeledMetricType" class="dashAnchor"></a>
    <a title="LabeledMetricType Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Glean Docs</a> (98% documented)</p>
        <p class="header-right"><a href="https://github.com/mozilla/glean"><img src="../img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="../search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Glean Reference</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        LabeledMetricType Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/BooleanMetricType.html">BooleanMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/CounterMetricType.html">CounterMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatetimeMetricType.html">DatetimeMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DistributionData.html">DistributionData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/EventMetricType.html">EventMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Glean.html">Glean</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HttpPingUploader.html">HttpPingUploader</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JweMetricType.html">JweMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LabeledMetricType.html">LabeledMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MemoryDistributionMetricType.html">MemoryDistributionMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NoExtras.html">NoExtras</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Ping.html">Ping</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PingBase.html">PingBase</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/QuantityMetricType.html">QuantityMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/StringListMetricType.html">StringListMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/StringMetricType.html">StringMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TimespanMetricType.html">TimespanMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TimingDistributionMetricType.html">TimingDistributionMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/UrlMetricType.html">UrlMetricType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/UuidMetricType.html">UuidMetricType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ErrorType.html">ErrorType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums.html#/s:5Glean0A7MetricsO">GleanMetrics</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/Lifetime.html">Lifetime</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/MemoryUnit.html">MemoryUnit</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/NoExtraKeys.html">NoExtraKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/NoReasonCodes.html">NoReasonCodes</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TimeUnit.html">TimeUnit</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Dictionary.html">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/EventExtras.html">EventExtras</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ExtraKeys.html">ExtraKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ReasonCodes.html">ReasonCodes</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/s:5Glean7JweDataV">JweData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/s:5Glean17RecordedEventDataV">RecordedEventData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/s:5Glean22RecordedExperimentDataV">RecordedExperimentData</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:5Glean0A7TimerIda">GleanTimerId</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>LabeledMetricType</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">LabeledMetricType</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                </div>
              </div>
            <p>This implements the developer facing API for labeled metrics.</p>

<p>Instances of this class type are automatically generated by the parsers at build time,
allowing developers to record values that were previously registered in the metrics.yaml file.</p>

<p>Unlike most metric types, LabeledMetricType does not have its own corresponding storage engine,
but records metrics for the underlying metric type <code>T</code> in the storage engine for that type.
The only difference is that labeled metrics are stored with the special key <code>$category.$name/$label</code>.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Glean17LabeledMetricTypeC8category4name11sendInPings8lifetime8disabled03subC06labelsACyxGSS_SSSaySSGAA8LifetimeOSbxShySSGSgtKcfc"></a>
                    <a name="//apple_ref/swift/Method/init(category:name:sendInPings:lifetime:disabled:subMetric:labels:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Glean17LabeledMetricTypeC8category4name11sendInPings8lifetime8disabled03subC06labelsACyxGSS_SSSaySSGAA8LifetimeOSbxShySSGSgtKcfc">init(category:<wbr>name:<wbr>sendInPings:<wbr>lifetime:<wbr>disabled:<wbr>subMetric:<wbr>labels:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The public constructor used by automatically generated metrics.</p>

<p>Supports the following types as sub-metrics:</p>

<ul>
<li><code><a href="../Classes/BooleanMetricType.html">BooleanMetricType</a></code></li>
<li><code><a href="../Classes/CounterMetricType.html">CounterMetricType</a></code></li>
<li><code><a href="../Classes/StringMetricType.html">StringMetricType</a></code></li>
</ul>

<p>Throws an exception when used with unsupported sub-metrics.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span>
    <span class="nv">category</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">sendInPings</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span>
    <span class="nv">lifetime</span><span class="p">:</span> <span class="kt"><a href="../Enums/Lifetime.html">Lifetime</a></span><span class="p">,</span>
    <span class="nv">disabled</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span>
    <span class="nv">subMetric</span><span class="p">:</span> <span class="kt">T</span><span class="p">,</span>
    <span class="nv">labels</span><span class="p">:</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Glean17LabeledMetricTypeCyxSScip"></a>
                    <a name="//apple_ref/swift/Method/subscript(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Glean17LabeledMetricTypeCyxSScip">subscript(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get the specific metric for a given label.</p>

<p>If a set of acceptable labels was specified in the metrics.yaml file,
and the given label is not in the set, it will be recorded under the
special <code>OTHER_LABEL</code>.</p>

<p>If a set of acceptable labels was not specified in the metrics.yaml file,
only the first 16 unique labels will be used. After that, any additional
labels will be recorded under the special <code>OTHER_LABEL</code> label.</p>

<p>Labels must be snake_case and less than 30 characters. If an invalid label
is used, the metric will be recorded in the special <code>OTHER_LABEL</code> label.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">subscript</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">T</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>label</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The label</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The specific metric for that label</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Glean17LabeledMetricTypeC24testGetNumRecordedErrors_8pingNames5Int32VAA05ErrorD0O_SSSgtF"></a>
                    <a name="//apple_ref/swift/Method/testGetNumRecordedErrors(_:pingName:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Glean17LabeledMetricTypeC24testGetNumRecordedErrors_8pingNames5Int32VAA05ErrorD0O_SSSgtF">testGetNumRecordedErrors(_:<wbr>pingName:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the number of errors recorded for the given metric.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">testGetNumRecordedErrors</span><span class="p">(</span><span class="n">_</span> <span class="nv">errorType</span><span class="p">:</span> <span class="kt"><a href="../Enums/ErrorType.html">ErrorType</a></span><span class="p">,</span> <span class="nv">pingName</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int32</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>errorType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The type of the error recorded.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>pingName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>represents the name of the ping to retrieve the metric for.
        Defaults to the first value in <code>sendInPings</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>the number of errors recorded for the metric.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://mozilla.github.com/glean" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2021-10-05)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
